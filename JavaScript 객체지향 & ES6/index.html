<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>


  <script>

    // ⭐ Hoisting(호이스팅) 현상 : 변수의 선언을 변수 범위 맨 위로 끌고오는 현상
    // 자바스크립트는 변수나 함수의 선언부분을 변수의 범위 맨 위로 강제로 끌고가서 가장 먼저 해석한다.

    // 예제(1)
    function 함수() {

      console.log('hello');
      var 이름 = 'Kim';

    }
    // 자바스크립트가 해석하는 순서
    function 함수() {

      var 이름;     // 변수의 선언 부분을 강제로 변수의 범위 맨 위로 끌고가서 해석하고 지나감 (함수를 만들어도 똑같고, 변수를 let, const로 만들어도 똑같음)
      console.log('hello');
      이름 = 'Kim';

    }


    // 예제(2)
    console.log(나이);    // undefined가 나온다.
    // undefined 는 변수가 선언은 되었는데 값을 아무것도 할당하지 않았을 때 출력되는 자료형이다.
    // 에러가 아님!! 일종의 자료형같은 것인데 그냥 정해지지않은 값이라고 생각하면 됨!

    var 나이 = 30;

    console.log(나이);    // 30이 출력된다.


    // ⭐ 변수 여러개 동시에 만들기
    // 변수를 콤마로 구분하면 동시에 만들 수 있다.
    // 선언과 할당을 한번에 하면
    var 이름 = 'a', 나이 = 20, 성별 = '남자';   // 그냥 var let const 키워드를 여러번 안써도 된다는 장점


    // ⭐ 변수의 참조(closure)
    // 바깥에 있는 변수는 안쪽에서 자유롭게 사용 가능하다.
    // 이걸 전문 용어로 참조가능하다 라고 하는데,
    // 자바스크립트에서는 closure 라고 함

    var 나이 = 20;      // 바깥에 있는 변수

    function 함수() {
      console.log(나이) // 바깥에 있는 변수를 가져다 쓸 수 있다. (참조한다.)
    }

    함수();


    // ⭐ 전역변수
    // 전역변수 : 모든 함수나 if, for 내부에서 공통적으로 사용할 수 있는 (참조할 수 있는) 유용한 변수를 뜻한다.
    // 스크립트태그 맨위에 쓰면됨


    // 쌩으로 전역변수를 만들어도 window에 보관된다. (let 말고 var 키워드만 )
    // <script> 
    var 나이 = 20;    // 전역변수

    console.log(나이);
    console.log(window.나이);   // 나이라는 전역변수를 만들면 자동으로 window 오브젝트에 보관이 되었으니까 window.나이를 써도 출력이 된다. (전역함수도 마찬가지로 window에 자동으로 보관된다.)
    // < /script>


    // 그래서 전역변수를 조금 더 엄격하게 관리하거나 구분짓고 싶으면 전역변수를 만들 때와 사용할 때 window를 활용해보자.
    // <script>
    window.나이 = 20;  // window를 이용해서 전역변수만들기
    console.log(window.나이);  //전역변수사용하기
    window.나이 = 30;  //전역변수변경하기
    // </ script>
// 이런 식으로 사용할 수도 있음
// (node.js 환경에선 window 대체품인 global 이라는 오브젝트가 있다)


  </script>


</body>

</html>