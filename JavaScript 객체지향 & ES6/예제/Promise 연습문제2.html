<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <!-- Ajax는 jQuery가 편리하니까 / jQuery CDN 파일 -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script>

    // Q2. Ajax 요청이 성공하면 무언가 코드를 실행하고 싶습니다. 

    // https://codingapple1.github.io/hello.txt 라는 경로로 GET 요청을 하면 인삿말이 하나 딸려옵니다.

    // 여기로 GET 요청을 해서 성공하면
    // Promise의 then 함수를 이용해서 Ajax로 받아온 인삿말을 콘솔창에 출력해주고 싶습니다.
    // 어떻게 하면 될까요? 

    // (jQuery done함수 자체에 Promise 기능이 있기 때문에 코드가 약간 중복도 많고 쓸데없을 수 있지만 연습삼아 해봅시다.)

    var 프로미스 = new Promise(function (성공, 실패) {

      // var 에이잭스결과 = $.ajax(
      //   {
      //     type: 'GET',
      //     url: 'https://codingapple1.github.io/hello.txt'
      //   }
      // )
      // 성공(에이잭스결과);

      $.ajax(
        {
          type: 'GET',
          url: 'https://codingapple1.github.io/hello.txt'
        }
      ).done(function(에이잭스결과){
        성공(에이잭스결과);
      })
    })

    프로미스.then(function(결과){ // 결과 = 에이잭스결과
      console.log(결과);
    }).catch(function(){
      // 실패했을경우 안의 코드 실행
    })

    // (참고)
    // ajax get 요청하는법
    // $.ajax( 
    //   {
    //     type : 'GET',
    //     url : 'https://codingapple1.github.io/hello.txt'
    //   }
    // ).done(function(결과){
    //   console.log(결과);
    // })

  </script>

</body>

</html>