<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <br>
    ë°°ì—´.reduce( function(acc, cur, index, arr) {} [, initialValue] )</br>
    ì¶œì²˜: <a href="https://inpa.tistory.com/entry/JS-ğŸ“š-ë°°ì—´-ê³ ì°¨í•¨ìˆ˜-reduce?category=889099">https://inpa.tistory.com/entry/JS-ğŸ“š-ë°°ì—´-ê³ ì°¨í•¨ìˆ˜-reduce?category=889099</a>[Inpa Dev ğŸ‘¨â€ğŸ’»:í‹°ìŠ¤í† ë¦¬]
  </p>

  <script>

    // reduce í™œìš© ì‹¤ì „ ì˜ˆì œ

    //* 1. ê°ì²´ ë°°ì—´ì—ì„œì˜ ê°’ í•©ì‚°
    // ê°ì²´ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ì— ë“¤ì–´ ìˆëŠ” ê°’ì„ í•©ì‚°í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ initialValue ì´ˆê¸°ê°’ì„ ì£¼ì–´ ê° í•­ëª©ì´ í•¨ìˆ˜ë¥¼ ê±°ì¹˜ë„ë¡ í•´ì•¼ í•œë‹¤.
    let initialValue = 0;
    let list = [
      { x: 1 },
      { x: 2 },
      { x: 3 }
    ];
    let sum = list.reduce(function (accumulator, currentValue) {
      return accumulator + currentValue.x;
    }, initialValue)

    console.log(sum)





    //* 2. ì¤‘ì²© ë°°ì—´ í¼ì¹˜ê¸°
    let arr = [
      [0, 1],
      [2, 3],
      [4, 5]
    ];
    let flattened = arr.reduce(function (accumulator, currentValue) {
      return accumulator.concat(currentValue);
      // return acc = [...accumulator, ...currentValue]
    }, []);

    console.log(flattened)





    //* 3. ì†ì„±ìœ¼ë¡œ ê°ì²´ ë¶„ë¥˜í•˜ê¸°
    const peoples = [
      {
        name: 'Alice',
        age: 21
      },
      {
        name: 'Max',
        age: 20
      },
      {
        name: 'Jane',
        age: 20
      }
    ];

    function groupBy(objectArray, property) {
      return objectArray.reduce(function (accumulator, currentObj) {
        
        const key = currentObj[property];
        console.log(`key : ${key}`);

        if (!accumulator[key]) {
          accumulator[key] = [];
        }

        accumulator[key].push(currentObj);
        return accumulator;
      }, {}); // ëˆ„ì‚°ê¸°ë¥¼ ì‚°ìˆ ì— ì“°ì§€ì•Šê³  ë¹ˆ ê°ì²´ë‚˜ ë°°ì—´ì„ ì¤˜ì„œ ì—¬ê¸°ì—ë‹¤ ë‹´ëŠ” ìš©ë„ë¡œë„ ì“´ë‹¤.
    };

    const groupedPeople = groupBy(peoples, 'age');
    console.log(groupedPeople)
    console.log(`groupedPeople : ${JSON.stringify(groupedPeople)}`);
    /* "age" ì†ì„±ìœ¼ë¡œ ê°ì²´ ë¶„ë¥˜ (ë‚˜ì´ ë³„)

    groupedPeople : {
      "20":[{"name":"Max","age":20},{"name":"Jane","age":20}],
        "21":[{"name":"Alice","age":21}]
    }

    */





    //* 4. ì¤‘ë³µ í•­ëª© ì œê±°
    let arr2 = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];
    // set ìë£Œí˜•ì„ ì´ìš©
    const setData = new Set(arr2)
    console.log(setData)
    console.log([...setData]) // ì „ê°œ ì—°ì‚°ìë¥¼ í†µí•´ ë°°ì—´ë¡œ ë³€í™˜
    

  </script>
</body>

</html>